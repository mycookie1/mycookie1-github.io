---
layout: post
title:  "gradle"
category: cs
tags: [누적합]
---

## 빌드 관리도구
빌드도구는 소스코드에서 어플리케이션 생성을 자동화 하기 위한 프로그램이다. 빌드는 코드를 사용 or 실행 가능한 형태로 컴파일링, 링킹, 패키징 하는것을 포함한다.
기본적으로 빌드 자동화는 아래와 같은 정형화된 다양한 작업을 스크립팅하거나 자동화 하는 행위이다.

1. 종속성 다운로드
2. 소스코드를 바이너리코드로 컴파일
3. 바이너리 코드를 패키징
4. 테스트 실행
5. 프로덕션 시스템에 배포

### 사용 이유
대규모 프로젝트에선 빌드프로세스를 수동으로 호출이 실용적이지 않다. 무엇을 빌드할지, 어떤 순서로 할지, 어떤 의존성이 있는지 모두 추적하기 쉽지 않기 때문이다. 빌드도구를 사용하면 이를 일관되게 할 수 있다.

- 빌드 자동화 도구라고 생각하면 편하다.
- 프로젝트 내에서 다양하게 외부의 라이브러리를 가져와야할 상황도 생기고 로컬레포지토리에서도 라이브러리 별로 버전 관리를 해야하는데 이 작업을 도와주는 친구가 빌드관리 도구 이다.
- 필요한 버전 정보를 셋팅 파일에 명시를 해주는것이다.

## 세대
- Make -> Ant -> Maven -> Gradle

## Maven
Maven이란?
아파치 메이븐은 자바용 프로젝트 관리 도구이다.
아파치 Ant의 대안으로 만들어졌다.
아파치 라이센스로 배포되는 오픈 소스 소프트웨어이다.
프로젝트를 진행하면서 사용하는 수많은 라이브러리들을 관리해주는 도구입니다.

여기서 메이븐의 특징적인 점은 그 라이브러리들과 연관된 라이브러리들까지 거미줄처럼 모두 연동이 되서 관리가 된다는 점입니다.

즉, 메이븐은 네트워크를 통해 연관된 라이브러리까지 같이 업데이트를 해주기 때문에  사용이 편리합니다. 

### POM - Project Object Model
Maven의 기능을 이용하기 위해 POM이 사용됩니다.

POM은 약자 이름 그대로 Project Object Model의 정보를 담고 있는 파일입니다.

pom.xml에서 주요하게 다루는 기능들은 아래와 같습니다.
- 프로젝트 정보 : 프로젝트의 이름, 라이센스 등
- 빌드 설정 : 소스, 리소스, 라이프사이클별 실행한 플로그인 등 빌드와 관련된 설정
- 빌드 환경 : 사용자 환경 별로 달라질 수 있는 프로파일 정보
- pom 연관 정보 : 의존 프로젝트(모듈), 상위 프로젝트, 포함하고 있는 하위 모듈 등
## Gradle
Gradle이란?
빌드, 프로젝트 구성/관리, 테스트, 배포 도구
안드로이드 앱의 공식 빌드 시스템
빌드 속도가 Maven에 비해 10~100배 가량 빠름
JAVA, C/C++M Python 등을 지원
빌트툴인 Ant Builder와 Groovy 스크립트 기반으로 만들어져 기존 Ant의 역할과 배포 스크립트의 기능을 모두 사용 가능
```Groovy?
Groovy는 Java 가상 머신에서 실행되는 스크립트 언어 입니다. Java 가상 머신에서 동작하지만,
Java와는 달리 소스 코드를 컴파일 할 필요는 없습니다.
Groovy는 스크립트 언어이고, 소스 코드를 그대로 실행합니다.
또한 Java와 호환되고, Java 클래스 파일을 그대로 Groovy 클래스로 사용할 수 있습니다.
Java 문법과 유사하여 빌드 처리를 관리할 수 있는 면에서
Gradle은 Java 개발자가 사용하기에 최고의 빌드관리도구이지 않을까 싶습니다.
```
기존 메이븐의 경우 XML로 라이브러리를 정의하고 활용하도록 되어 있으나,

Gradle의 경우 별도의 빌드 스크립트를 통하여사용할 어플리케이션 버전, 라이브러리 등의 항목을 설정할 수 있습니다.

Groovy 스크립트 언어로 구성되어 있기에 XML과 달리 변수선언, if, else, for 등의 로직이 구현가능하며 간결하게 구성 가능합니다.
## 비교

1. 스크립트 길이와 가독성 면에서 gradle이 우세하다.

2. 빌드와 테스트 실행 결과 gradle이 더 빠르다. (gradle은 캐시를 사용하기 때문에 테스트 반복 시 차이가 더 커진다.)

3. 의존성이 늘어날 수록 성능과 스크립트 품질의 차이가 심해질 것이다.

maven은 프로젝트가 커질수록 빌드 스크립트의 내용이 길어지고 가독성이 떨어집니다.
반면에 gradle은 훨씬 적은 양의 스크립트로 짧고 간결하게 작성할 수 있습니다.

maven이 정적인 형태의 XML 기반으로 작성되어 동적인 빌드를 적용할 경우 어려움이 많다면,
gradle은 Groovy를 사용하기 때문에 동적인 빌드는 Groovy 스크립트로 플러그인을 호출하거나 직접 코드를 짜면 됩니다.

maven의 경우 멀티 프로젝트에서 특정 설정을 다른 모듈에서 사용하려면 상속을 받아야 하지만,
gradle은 설정 주입 방식을 사용하기 때문에 멀티 프로젝트에 매우 적합합니다.

 