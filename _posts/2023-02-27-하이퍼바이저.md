---
layout: post
title:  "하이퍼바이저"
category: 가상화
tags: [하이퍼바이저]
---
하이퍼바이저(Hypervisor)는 가상화 기술을 구현하기 위한 소프트웨어 레이어로, 호스트 시스템(Physical Host) 위에 여러 개의 가상 머신(Virtual Machine)을 생성하고 관리하는 역할을 합니다.

하이퍼바이저는 크게 두 가지로 나뉩니다. 첫 번째는 타입 1 하이퍼바이저로, 하이퍼바이저가 물리적인 서버의 하드웨어와 직접적으로 상호작용합니다. 이 경우, 하이퍼바이저는 가상화된 모든 하드웨어 리소스를 관리하며, 호스트 시스템의 운영체제와 독립적으로 작동합니다. 이러한 하이퍼바이저는 전가상화(Full Virtualization)를 구현하며, 대표적인 제품으로는 VMware ESXi, Citrix XenServer 등이 있습니다.

두 번째는 타입 2 하이퍼바이저로, 호스트 운영체제 위에서 작동하며 가상 머신을 생성합니다. 이 경우, 하이퍼바이저가 호스트 운영체제와 함께 CPU 자원 및 메모리 등의 자원을 공유하게 되며, 이러한 하이퍼바이저는 반가상화(Paravirtualization)를 구현합니다. 대표적인 제품으로는 Oracle VirtualBox, VMware Workstation 등이 있습니다.

하이퍼바이저를 이용하면 여러 개의 가상 머신을 한 대의 물리적인 서버에서 생성하여 운영할 수 있기 때문에, 하나의 서버를 최대한 활용하여 비용을 절감할 수 있습니다. 또한, 가상 머신의 생성, 삭제, 이전 등의 작업이 쉽고 빠르기 때문에, 시스템 관리 및 유지보수에 대한 비용도 줄일 수 있습니다.

### 전가상화
장단점: 게스트OS의 별다른 수정없이 사용할 수 있다. 하지만 하이퍼바이저가 모든 명령을 중재하기 때문에 성능이 느리다. 또한 하이퍼바이저가 중재 이외의 문제들도 다 처리해 주어야 한다.

### 반가상화
장단점: 전가상화의 단점인 성능 저하를 해소하고자 모든 명령을 DOM0을 통해 하이퍼바이저에게 요청하지 않고, 하이퍼콜이라는 인터페이스로 직접 하이퍼바이저에 요청을 날린다. 따라서 전가상화에 비해 성능이 빠르다. 하지만 하이퍼콜을 이용하면 하이퍼바이저에게 요청을 보내는 동작을 기존의 OS는 할 수 없으므로 커널 수정 작업이 들어가야 한다